---
title: Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦
date: 2020-11-24 17:13:05
tags: [ç¼–ç¨‹è¯­è¨€]
toc: true
categories: Swiftå­¦ä¹ 
---
Swiftå­—ç¬¦ä¸²å’Œå­—ç¬¦éƒ¨åˆ†å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬[å­—ç¬¦ä¸²å­—é¢é‡](#å­—ç¬¦ä¸²å­—é¢é‡)ã€[åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²](#åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²)ã€[è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦](#è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦)ã€[Unicode](#unicode)ã€[è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²](#è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²)ã€[å­å­—ç¬¦ä¸²](#å­å­—ç¬¦ä¸²)ã€[æ¯”è¾ƒå­—ç¬¦ä¸²](#æ¯”è¾ƒå­—ç¬¦ä¸²)ã€‚
<!--more-->
- å­—ç¬¦ä¸²ç±»å‹ï¼š``String``ï¼Œå­—ç¬¦ç±»å‹ï¼š``Character``  
- ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥çœ‹æˆæ˜¯ä¸€å †å­—ç¬¦çš„é›†åˆ  
    - å¯ä»¥ä½¿ç”¨`for-in`å¾ªç¯éå†å­—ç¬¦ä¸²ï¼Œè·å–å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦
        ```swift
        for character in "Dog!ğŸ¶" {
            print(character)
        }
        ```
    - å¯ä»¥ä½¿ç”¨ä¸€ä¸ª`Character`æ•°ç»„åˆå§‹åŒ–ä¸€ä¸ª`String`
        ```swift
        let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
        let catString = String(catCharacters)
        ```
- å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„`count`å±æ€§è·å¾—å­—ç¬¦ä¸²ä¸­`Character`çš„æ•°é‡

## å­—ç¬¦ä¸²å­—é¢é‡
å³ç”¨ä¸€å¯¹åŒå¼•å·åŒ…è£¹ç€çš„å…·æœ‰å›ºå®šé¡ºåºçš„å­—ç¬¦é›†ï¼Œå¯ç”¨äºç»™å­—ç¬¦ä¸²ç±»å‹çš„å¸¸/å˜é‡æä¾›åˆå§‹å€¼
```swift
let aString = "String literal value"
```
å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„å­—é¢é‡éƒ½éœ€è¦ä½¿ç”¨**åŒå¼•å·**

### å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡
ä½¿ç”¨ä¸€å¯¹ä¸‰å¼•å·åŒ…è£¹å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡
```swift
let thisString = """
å¤šè¡Œå­—ç¬¦ä¸²
å­—é¢é‡
"""
print(thisString)
```
![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-24-20-21-52.png)  
è‹¥æƒ³åœ¨ä¹¦å†™å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡æ—¶æ¢è¡Œï¼Œä½†å¹¶ä¸è®©å­—ç¬¦ä¸²å­—é¢é‡åŒ…å«æ¢è¡Œç¬¦ï¼ˆä¸ºäº†åŠ å¼ºä»£ç çš„å¯è¯»æ€§ï¼‰ï¼Œå¯é£Ÿç”¨ç»­è¡Œç¬¦``\``
```swift
let thisString = """
å¤šè¡Œå­—ç¬¦ä¸²\
å­—é¢é‡
"""
print(thisString)
```
![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-24-20-22-47.png)
- å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡çš„ç¼©è¿›åº”å’Œç»“å°¾çš„ä¸‰å¼•å·çš„ç¼©è¿›å¯¹é½

### å­—ç¬¦ä¸²å­—é¢é‡çš„ç‰¹æ®Šå­—ç¬¦
|å­—ç¬¦|å­—ç¬¦å|
|:-:|:---:|
|`\0`|ç©ºå­—ç¬¦|
|`\\`|åæ–œçº¿|
|`\t`|æ°´å¹³åˆ¶è¡¨ç¬¦|
|`\n`|æ¢è¡Œç¬¦|   
|`\r`|å›è½¦ç¬¦|
|`\"`|åŒå¼•å·|
|`\'`|å•å¼•å·|
|`\u{n}`|Unicodeæ ‡é‡|
- åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­ä½¿ç”¨åŒå¼•å·ä¸ç”¨åŠ è½¬ä¹‰ç¬¦ï¼Œä½¿ç”¨ä¸‰å¼•å·éœ€è¦è‡³å°‘ä¸€ä¸ªè½¬ä¹‰ç¬¦

<div id="separator"> </div>

### æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦
åœ¨æ‰©å±•åˆ†éš”ç¬¦ä¸­åŒ…å«çš„ç‰¹æ®Šå­—ç¬¦å°†ä¼šè¢«ç›´æ¥åŒ…å«ï¼Œæ— éœ€è½¬ä¹‰ï¼›æˆ–è€…åœ¨è½¬ä¹‰ç¬¦åé¢åŠ ä¸Šä¸æ‰©å±•åˆ†éš”ç¬¦æ•°é‡ç›¸ç­‰çš„`#`
```swift
let stringOne = #"Line 1 \nLine 2"#
print("stringOne:" + stringOne)
let stringTwo = ##"Line 1 \##nLine 2"##
print("stringTwo:" + stringTwo)
```
![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-24-22-14-27.png)

### å­—ç¬¦ä¸²æ’å€¼
å¯ä»¥ä½¿ç”¨è½¬ä¹‰ç¬¦è¿›è¡Œå­—ç¬¦ä¸²æ’å€¼ï¼Œå­—ç¬¦ä¸²æ’å€¼ä¸ä¸€å®šè¦ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„å¸¸/å˜é‡
```swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
```
- åœ¨å­—ç¬¦ä¸²æ’å€¼ä¸­ï¼Œä¸Šé¢çš„[æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦](#separator)å¯ä»¥æ­£å¸¸ä½¿ç”¨
- æ’å€¼å­—ç¬¦ä¸²ä¸­ä¸èƒ½åŒ…å«å›è½¦ã€æ¢è¡Œç¬¦ã€éè½¬ä¹‰åæ–œæ 

## åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²
1. èµ‹å€¼ç©ºçš„å­—ç¬¦ä¸²å­—é¢é‡ç»™å˜é‡
    ```swift
    var emptyString = ""
    ```
2. ä½¿ç”¨æ„é€ å™¨åˆå§‹åŒ–ç©ºçš„Stringå®ä¾‹
    ```swift
    var anotherEmptyString = String()
    ```
è¿™ä¸¤ç§æ–¹æ³•å®šä¹‰å‡ºæ¥çš„ä¸¤ä¸ªå­—ç¬¦ä¸²å˜é‡å®Œå…¨ç›¸åŒ
- `String`ç±»å‹çš„å˜é‡æœ‰`Bool`ç±»å‹çš„å±æ€§`isEmpty`ï¼Œå¯ç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º

## è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦
- ä½¿ç”¨åŠ æ³•`+`è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²
    ```swift
    let string1 = "hello"
    let string2 = " there"
    var welcome = string1 + string2
    ```
- ä½¿ç”¨åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦`+=`è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²
    ```swift
    var instruction = "look over"
    instruction += " there"
    ```
- ä½¿ç”¨å­—ç¬¦ä¸²çš„append()æ–¹æ³•å°†ä¸€ä¸ª**å­—ç¬¦**é™„åŠ åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨
    ```swift
    let exclamationMark: Character = "!"
    welcome.append(exclamationMark)
    ```

## Unicode
Swiftçš„`String`å’Œ`Character`ç±»å‹å®Œå…¨å…¼å®¹Unicodeæ ‡å‡†ã€‚ä½¿ç”¨æ–¹å¼`\u{n}`ï¼Œ `n`ä¸ºä»»æ„ä¸€åˆ°å…«ä½åå…­è¿›åˆ¶æ•°ä¸”å¯ç”¨çš„ Unicode ä½ç ã€‚

<div id="extendable"> </div>

### å¯æ‰©å±•çš„å­—å½¢ç¾¤é›†
Swiftä¸­çš„`Character`ç±»å‹æ˜¯å¯æ‰©å±•çš„  
1. ä¾‹1:  
   å¯ä»¥ä½¿ç”¨`e`åŠ æ€¥ä¿ƒé‡éŸ³çš„Unicodeä½ç ç»„åˆæˆå•ä¸€çš„`Ã©`
    ```swift
    let eAcute: Character = "\u{E9}"
    let combinedEAcute: Character = "\u{65}\u{301}"
    print("eAcute:\(eAcute)")
    print("combinedEAcute:\(combinedEAcute)")
    print(eAcute == combinedEAcute)
    ```
    ![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-09-05-10.png)  

2. ä¾‹2:  
    éŸ©è¯­éŸ³èŠ‚æœ‰åºæ’åˆ—ç»„åˆå¯ä»¥æ„æˆéŸ©è¯­å­—
    ```swift
    let precomposed: Character = "\u{D55C}"
    let decomposed: Character = "\u{1112}\u{1161}\u{11AB}"
    print("precomposed:\(precomposed)")
    print("decomposed:\(decomposed)")
    print(precomposed == decomposed)
    ```
    ![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-09-57-35.png)
   
3. ä¾‹3:  
    ä½¿ç”¨åŒ…å›´è®°å·çš„æ ‡é‡åŒ…å›´å…¶ä»–Unicodeæ ‡é‡ï¼Œä½œä¸ºä¸€ä¸ªå•ä¸€çš„`Character`å€¼ï¼š
    ```swift
    let encosedEAcute: Character = "\u{E9}\u{20DD}"
    print(encosedEAcute)
    ```
    ![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-10-03-37.png)
4. ä¾‹4:  
   ä½¿ç”¨åœ°åŸŸæ€§æŒ‡ç¤ºç¬¦å·çš„Unicodeæ ‡é‡ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„å›½æ——`Character`
   ```swift
    let regionalIndicatorC: Character = "\u{1F1E8}"
    let regionalIndicatorN: Character = "\u{1F1F3}"
    let regionalIndicatorForCN: Character = "\u{1F1E8}\u{1F1F3}"
    print(regionalIndicatorC)
    print(regionalIndicatorN)
    print(regionalIndicatorForCN)

   ```
   ![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-10-39-44.png)

- ä½¿ç”¨å¯æ‹“å±•çš„å­—ç¬¦ç¾¤é›†ä½œä¸º`Character`å€¼æ¥è¿æ¥æˆ–æ”¹å˜å­—ç¬¦ä¸²æ—¶ï¼Œå¹¶ä¸ä¸€å®šä¼šæ›´æ”¹å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°é‡
  ```swift
  var word = "cafe"
  print(word.count == (word+"\u{301}").count)
  ```
  ![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-13-50-04.png)  
  `cafe`åé¢æ·»åŠ ä¸€ä¸ªæ€¥ä¿ƒé‡éŸ³ï¼Œå½¢æˆ`cafÃ©`ï¼Œä¸¤ä¸ª`String`çš„`count`å±æ€§å€¼ç›¸åŒï¼Œéƒ½ä¸º`4`

### å­—ç¬¦ä¸²çš„Unicodeè¡¨ç¤ºå½¢å¼
- [ ] å­—ç¬¦ä¸²çš„UTF-8, UTF-16, Unicodeæ ‡é‡è¡¨ç¤ºï¼Œä¹‹åç”¨åˆ°äº†å†æ¥å­¦ä¹ 

## è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²
è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²æœ‰ä¸¤ç§æ–¹æ³•ï¼šä½¿ç”¨å­—ç¬¦ä¸²çš„å±æ€§å’Œæ–¹æ³• / ç”¨ä¸‹æ ‡è¯­æ³•

### å­—ç¬¦ä¸²ç´¢å¼•
- ä¸åŒçš„å­—ç¬¦å¯èƒ½ä¼šå ç”¨ä¸åŒæ•°é‡çš„å†…å­˜ç©ºé—´ï¼ˆå¦‚ä½¿ç”¨äº†[å¯æ‰©å±•å­—å½¢ç¾¤é›†](#extendable)çš„å­—ç¬¦ä¸²ï¼‰ï¼Œæ‰€ä»¥è¦çŸ¥é“Characterçš„ç¡®å®šä½ç½®ï¼Œå°±å¿…é¡»ä»Stringå¼€å¤´éå†æ¯ä¸€ä¸ªUnicode æ ‡é‡ç›´åˆ°ç»“å°¾ã€‚å› æ­¤ï¼ŒSwiftçš„å­—ç¬¦ä¸²**ä¸èƒ½ç”¨æ•´æ•°**ï¼ˆintegerï¼‰åšç´¢å¼•ã€‚Swiftä¸­çš„ç´¢å¼•æ˜¯ä¸“é—¨çš„`index`ç±»å‹ã€‚
- `String`ç±»å‹æœ‰å±æ€§ï¼š`startIndex`è¡¨ç¤ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼Œ`endIndex`è¡¨ç¤ºå­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„**åä¸€ä¸ªä½ç½®**çš„ç´¢å¼•
- åœ¨`startIndex`å’Œ`endIndex`çš„åŸºç¡€ä¸Šä½¿ç”¨ï¼š
  ```swift
  let greeting = "Guten Tag!"
  ```

  |æ–¹æ³•/å±æ€§|è§£é‡Š|ä¸¾ä¾‹/è§£é‡Š|
  |:------:|:-:|:------:|
  |`startIndex`|è¡¨ç¤ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•|`greeting[greeting.startIndex]`è¡¨ç¤º`G`|
  |`endIndex`|è¡¨ç¤ºå­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦çš„**åä¸€ä¸ªä½ç½®**çš„ç´¢å¼•|`endIndex`å±æ€§ä¸èƒ½ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ‰æ•ˆä¸‹æ ‡|
  |`index(before: )`|è¡¨ç¤ºä¼ å…¥çš„`index`çš„å‰ä¸€ä¸ªä½ç½®çš„ç´¢å¼•|`greeting[greeting.index(befor: greeting.endIndex)]`è¡¨ç¤º`!`|
  |`index(after: )`|è¡¨ç¤ºä¼ å…¥çš„`index`çš„åä¸€ä¸ªä½ç½®çš„ç´¢å¼•|`greeting[greeting.index(after: greeting.startIndex)]`è¡¨ç¤º`u`|
  |`index(_: offsetBy: )`|`å‚æ•°ä¸€`å‘ååç§»`å‚æ•°äºŒ`ä¸ªä½ç½®çš„ç´¢å¼•ï¼ˆ`å‚æ•°äºŒ`å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰|`greeting[greeting.index(greeting.startIndex, offsetBy: 7)]`è¡¨ç¤º`a`|
- ä»¥ä¸Šæ‰€åˆ—çš„`index`æ–¹æ³•æˆ–å±æ€§å¯åœ¨ä»»æ„ä¸€ä¸ªç¡®è®¤çš„å¹¶éµå¾ªCollectionåè®®çš„ç±»å‹ä¸­ä½¿ç”¨ï¼Œå¦‚Arrayã€Dictionaryå’ŒSetã€‚

### æ’å…¥å’Œåˆ é™¤

#### æ’å…¥
1. ``insert(_:at:)``
   `_`åå†™è¦æ’å…¥çš„å­—ç¬¦ï¼Œ`at`åå†™è¦æ’å…¥çš„ä½ç½®ï¼Œå°†`_`åçš„å­—ç¬¦æ’å…¥åˆ°`at`åæ‰€å†™ä½ç½®ä¹‹å‰
   ```swift
    var welcome = "hello"
    welcome.insert("!", at: welcome.endIndex)
    // welcome å˜é‡ç°åœ¨ç­‰äº "hello!"
   ```
2. ``insert(contentsOf:at:)``
   `contentsOf`åå†™è¦æ’å…¥çš„å­—ç¬¦ä¸²ï¼Œ`at`åå†™è¦æ’å…¥çš„ä½ç½®ï¼Œå°†`contentsOf`åçš„å­—ç¬¦ä¸²æ’å…¥åˆ°`at`åæ‰€å†™ä½ç½®ä¹‹å‰
   ```swift
    welcome.insert(contentsOf:" there", at: welcome.index(before: welcome.endIndex))
    // welcome å˜é‡ç°åœ¨ç­‰äº "hello there!"
   ```

#### åˆ é™¤
1. ``remove(at:)``
   åˆ é™¤å­—ç¬¦ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦
   ```swift
     welcome.remove(at: welcome.index(before: welcome.endIndex))
    // welcome ç°åœ¨ç­‰äº "hello there"
   ```
2. ``removeSubrange(_:)``
   åˆ é™¤å­—ç¬¦ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½ç½®çš„å­å­—ç¬¦ä¸²
   ```swift
    let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endIndex
    //å¸¸é‡rangeçš„ç±»å‹æ˜¯Range<Index>
    welcome.removeSubrange(range)
    // welcome ç°åœ¨ç­‰äº "hello"
   ```
- ä»¥ä¸Šæ‰€åˆ—çš„`insert`å’Œ`remove`æ–¹æ³•å¯åœ¨ä»»æ„ä¸€ä¸ªç¡®è®¤çš„å¹¶éµå¾ªRangeReplaceableCollectionåè®®çš„ç±»å‹ä¸­ä½¿ç”¨ï¼Œå¦‚Arrayã€Dictionaryå’ŒSetã€‚

## å­å­—ç¬¦ä¸²
Swiftä¸­ä»å­—ç¬¦ä¸²ä¸­è·å–çš„å­å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨ä¸‹æ ‡æˆ–è€…`prefix(_:)`ç­‰æ–¹æ³•ï¼‰çš„ç±»å‹æ˜¯`Substring`ï¼Œè€Œä¸æ˜¯`String`  
``Substring``åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å’Œ`String`ç›¸åŒï¼Œåœ¨çŸ­æ—¶é—´å†…éœ€è¦æ“ä½œå­—ç¬¦ä¸²æ—¶æ‰åº”ä½¿ç”¨`Substring`ï¼Œéœ€é•¿æ—¶é—´ä½¿ç”¨çš„è¯åº”å…ˆå°†å…¶è½¬åŒ–ä¸º`String`
```swift
let greeting = "Hello, world!"
let index = greeting.firstIndex(of: ",") ?? greeting.endIndex
let beginning = greeting[..<index]
//beginningæ˜¯ä¸€ä¸ªSubstringç±»å‹çš„å¸¸é‡
print(type(of: beginning))
let newString = String(beginning)
//newStringæ˜¯ä¸€ä¸ªStringç±»å‹çš„å¸¸é‡
print(type(of: newString))
print(beginning == newString)
```
![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-18-01-25.png)

`String`å’Œ`Substring`åœ¨å ç”¨å†…å­˜ç©ºé—´ä¸Šæœ‰åŒºåˆ«  
å¦‚åœ¨ä¸Šä¾‹ä¸­ï¼Œ`Substring`ç±»å‹çš„`beginning`å¤ç”¨åŸå­—ç¬¦ä¸²`greeting`çš„å†…å­˜ç©ºé—´ï¼Œæ–°çš„å­—ç¬¦ä¸²`newString`æ‹¥æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![](Swiftå­¦ä¹ ç¬”è®°03-å­—ç¬¦ä¸²å’Œå­—ç¬¦/2020-11-25-18-26-23.png)

## æ¯”è¾ƒå­—ç¬¦ä¸²

|æ–¹æ³•|è§£é‡Š|
|:-:|:-:|
|`==` / `!=`|ç­‰äºæˆ–ä¸ç­‰äº|
|`hasPrefix(_:)`|æœ‰å‰ç¼€|
|`hasSuffix(_:)`|æœ‰åç¼€|
