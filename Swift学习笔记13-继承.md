---
layout: post
title: Swiftå­¦ä¹ ç¬”è®°13-ç»§æ‰¿
date: 2021-04-15 09:51:04
tags: [ç¼–ç¨‹è¯­è¨€]
categories: Swiftå­¦ä¹ 
toc: true
---
Swiftç»§æ‰¿å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬[åŸºç±»](#åŸºç±»)å’Œ[é‡å†™](#é‡å†™)ã€‚
<!--more-->

- ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œå±æ€§å’Œå…¶å®ƒç‰¹æ€§ã€‚
- ç»§æ‰¿æ˜¯åŒºåˆ†ã€Œç±»ã€ä¸å…¶å®ƒç±»å‹çš„ä¸€ä¸ªåŸºæœ¬ç‰¹å¾ã€‚

## åŸºç±»
ä»»ä½•ä¸ç»§æ‰¿äºå…¶å®ƒç±»çš„ç±»ï¼Œéƒ½æ˜¯åŸºç±»ã€‚

```swift
class Vehicle {

    var currentSpeed = 0.0

    var description: String {

        return "traveling at \(currentSpeed) miles per hour"

    }

    func makeNoise() {

        // ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”å› ä¸ºè½¦è¾†ä¸ä¸€å®šä¼šæœ‰å™ªéŸ³

    }

}
```

åŸºç±»ä¹Ÿå¯ä»¥åˆ›å»ºå®ä¾‹ï¼Œè°ƒç”¨

```swift
let someVehicle = Vehicle()
print("Vehicle: \(someVehicle.description)")
```

åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼ŒåŸºç±»å…·æœ‰é€šç”¨ç‰¹æ€§ï¼Œä½†å®ƒçš„å®ä¾‹ä¸å¤Ÿå…·ä½“ï¼Œå› æ­¤ç”¨å¤šä¸ªæè¿°å…·ä½“ç±»å‹çš„å­ç±»ç»§æ‰¿è¿™ä¸ªåŸºç±»ã€‚

## å­ç±»
å­ç±»ä¸ä¸€å®šéè¦ç»§æ‰¿è‡ªä¸€ä¸ªåŸºç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªå­ç±»ã€‚

```swift
class Bicycle: Vehicle {

    var hasBasket = false

}
class Tandem: Bicycle {

    var currentNumberOfPassengers = 0

}
```

- å­ç±»`Bicycle`ç»§æ‰¿è‡ªåŸºç±»`Vehicle`ï¼Œç»§æ‰¿äº†`Vehicle`çš„å­˜å‚¨å±æ€§`currentSpeed`ã€[åªè¯»è®¡ç®—å±æ€§](https://chenzheying.gitee.io/2020/12/13/Swiftå­¦ä¹ ç¬”è®°10-å±æ€§/#åªè¯»è®¡ç®—å±æ€§)`description`å’Œæ–¹æ³•`makeNoise`ï¼Œæœ‰è‡ªå·±çš„æ–°çš„å­˜å‚¨å±æ€§`hasBasket`ã€‚
- å­ç±»`Tandem`ç»§æ‰¿è‡ªå­ç±»`Bicycle`ï¼Œç»§æ‰¿äº†`Bicycle`ä»`Vehicle`ç»§æ‰¿æ¥çš„å­˜å‚¨å±æ€§`currentSpeed`ã€åªè¯»è®¡ç®—å±æ€§`description`å’Œæ–¹æ³•`makeNoise`ï¼Œè¿˜ç»§æ‰¿äº†`Bicycle`çš„å­˜å‚¨å±æ€§`hasBasket`ï¼Œæœ‰è‡ªå·±çš„æ–°å­˜å‚¨å±æ€§`currentNumberOfPassengers`ã€‚

## é‡å†™

å¯ä»¥ä½¿ç”¨`override`å…³é”®å­—ç»™å­ç±»ç»§æ‰¿æ¥çš„å®ä¾‹æ–¹æ³•ï¼Œç±»æ–¹æ³•ï¼Œå®ä¾‹å±æ€§ï¼Œç±»å±æ€§æˆ–ä¸‹æ ‡ï¼Œæä¾›è‡ªå·±å®šåˆ¶çš„å®ç°ã€‚

### è®¿é—®è¶…ç±»ï¼ˆçˆ¶ç±»ï¼‰çš„èµ„æº

- è®¿é—®è¶…ç±»ï¼ˆçˆ¶ç±»ï¼‰çš„æ–¹æ³•ï¼š`super.someMethod()`
- è®¿é—®è¶…ç±»ï¼ˆçˆ¶ç±»ï¼‰çš„å±æ€§ï¼š`super.someProperty()`
- è®¿é—®è¶…ç±»ï¼ˆçˆ¶ç±»ï¼‰çš„ä¸‹æ ‡ï¼š`super[someIndex]`

### é‡å†™æ–¹æ³•

```swift
class Train: Vehicle {

    override func makeNoise() {

        print("Choo Choo")

    }

}
```

ä½¿ç”¨`Train`çš„å®ä¾‹è°ƒç”¨`makeNoise`æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡Œé‡å†™åçš„æ–¹æ³•ã€‚

### é‡å†™å±æ€§

- å®ä¾‹å±æ€§å’Œç±»å‹å±æ€§éƒ½å¯ä»¥è¢«é‡å†™ã€‚
- å¯¹å±æ€§çš„é‡å†™åˆ†ä¸º
    1. é‡å†™å±æ€§çš„`Getters`å’Œ`Setters`ã€‚
    2. ä¸ºé‡å†™å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚
   
   ä¸¤ç§é‡å†™ä¸å¯åŒæ—¶å­˜åœ¨ã€‚

#### é‡å†™å±æ€§çš„`Getters`å’Œ`Setters`

```swift
class Car: Vehicle {

    var gear = 1

    override var description: String {

        return super.description + " in gear \(gear)"

    }

}
```

ğŸ—’ï¸ Noteï¼š
- å¯ä»¥è®²ç»§æ‰¿æ¥çš„åªè¯»å±æ€§é‡å†™ä¸ºè¯»å†™å±æ€§ï¼Œä¸å¯ä»¥è®²ç»§æ‰¿æ¥çš„è¯»å†™å±æ€§é‡å†™ä¸ºåªè¯»å±æ€§ã€‚
- é‡å†™å±æ€§ä¸­å¯ä»¥åªæœ‰`getter`ï¼Œä¸å¯ä»¥åªæœ‰`setter`ã€‚

#### ä¸ºé‡å†™å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨
```swift
class AutomaticCar: Car {

    override var currentSpeed: Double {

        didSet {

            gear = Int(currentSpeed / 10.0) + 1

        }

    }

}

```

ğŸ—’ï¸ Noteï¼š
- ç»§æ‰¿æ¥çš„**å¸¸é‡å­˜å‚¨å‹å±æ€§**æˆ–ç»§æ‰¿æ¥çš„**åªè¯»è®¡ç®—å‹å±æ€§**ä¸å¯ä»¥æ·»åŠ å±æ€§è§‚å¯Ÿå™¨ã€‚
- ä¸å¯ä»¥åŒæ—¶æä¾›é‡å†™çš„`setter`å’Œé‡å†™çš„å±æ€§è§‚å¯Ÿå™¨ã€‚ï¼ˆå› ä¸ºå¯ä»¥åœ¨`setter`ä¸­å®ç°å±æ€§è§‚å¯Ÿå™¨çš„å†…å®¹ï¼‰

### é˜²æ­¢é‡å†™

å¯ä»¥ä½¿ç”¨`final`å…³é”®å­—å£°æ˜æŸä¸ªç±»ã€æ–¹æ³•ã€å±æ€§æˆ–ä¸‹æ ‡æ˜¯ä¸å¯é‡å†™çš„ã€‚
```swift
final class SomeClass { }

final var someVar

final func someFunc(){}

final subscript

```